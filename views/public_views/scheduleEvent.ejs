<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Schedule An Event</title>
  <style>

body {
  font-family: Arial, sans-serif;
  line-height: 1.6;
  margin: 0;
  padding: 0;
  display: flex;
  justify-content: center;
  align-items: center;
  background-color: #f9f9f9;
  min-height: 100vh;
}

h1 {
  text-align: center;
  font-size: 24px;
  margin-bottom: 20px;
}

h2 {
      text-align: center;
      font-size: 18px; /* Smaller than h1 but larger than normal text */
      font-weight: normal; /* Removes bolding */
      margin-bottom: 20px;
      color: #333; /* Slightly darker text for emphasis */
}

form {
  background: #fff;
  padding: 30px;
  border: 1px solid #ddd;
  border-radius: 10px;
  max-width: 600px;
  width: 100%;
  box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
}

div {
  margin-bottom: 15px;
}

label {
  display: block;
  font-size: 14px;
  font-weight: bold;
  margin-bottom: 5px;
}

input, select, textarea {
  width: 100%;
  padding: 10px;
  border: 1px solid #ddd;
  border-radius: 5px;
  font-size: 14px;
}

input[type="radio"], input[type="checkbox"] {
  width: auto;
  margin-right: 10px;
}

textarea {
  resize: none;
}

button {
  background: #000;
  color: #fff;
  padding: 10px 15px;
  font-size: 14px;
  border: none;
  border-radius: 5px;
  cursor: pointer;
  text-transform: uppercase;
  width: 100%;
}

button:hover {
  background: #333;
}

.form-group-inline {
  display: flex;
  justify-content: space-between;
  gap: 10px;
}

.form-group-inline div {
  flex: 1;
}

.form-group-inline div {
  margin-right: 15px; /* Added margin between the inputs */
}

.section-header {
  font-size: 18px;
  margin-bottom: 15px;
  padding-bottom: 5px;
  border-bottom: 2px solid #ddd;
  margin-top: 25px;
}


.form-group-inline div {
  display: block; /* Make radio buttons appear vertically */
}

input[type="checkbox"] {
  width: auto;
  margin-right: 10px; /* Space between checkbox and label */
}

.note {
  font-size: 12px;
  color: #888;
}

.inline-spacing {
  margin-right: 10px;
}

.form-group-vertical {
  display: flex;
  flex-direction: column;
}

.radio-group {
  display: flex;
  flex-direction: column; /* Stacks radio button rows vertically */
}

.radio-group div {
  display: flex;
  align-items: center; /* Aligns radio buttons and their labels horizontally */
  margin-bottom: 10px; /* Adds space between rows */
}

.radio-group input[type="radio"] {
  margin-right: 10px; /* Adds space between radio button and label */
}

.checkbox-group {
  display: flex;
  align-items: center; /* Align checkbox and text vertically */
}

.checkbox-group label {
  margin-left: 2px; /* Ensure there is no extra margin causing misalignment */
}


  </style>
</head>
<body>
  <form action="/scheduleEvent" method="POST">
    <h1>Schedule an Event</h1>
    <h2>Thank you for signing up to host an event with the Turtle Shelter Project! We are so excited to work with you. In order to start the process of scheduling your event, we have a few questions we need you to fill out. Please fill out every question before submitting. You can except an email back in a few days to confirm if we are available on the date you selected.</h2>

  <div class="section-header">General Information</div>

  <!-- Have you scheduled an event before? -->
  <div class="question">
    <label>Have you signed up to be a team member prior to filling out this form, or have you scheduled an event with us in the past? Select "Yes" if you have done either.</label><br>
    <div class="radio-group">
      <label>
        <input type="radio" id="yesRadio" name="scheduledBefore" value="yes">
        Yes
      </label>
      <label>
        <input type="radio" id="noRadio" name="scheduledBefore" value="no">
        No
      </label>
    </div>
  </div>

    <!-- Email input when "Yes" is selected -->
    <div id="emailSection" style="display: none;">
      <label for="existingEmail">Enter the email address you previously used to sign up as a team member or you used to schedule an event:</label>
      <input type="text" id="existingEmail" name="existingEmail">
    </div>

    <!-- Personal Information Section -->
    <div id="personalInfoSection" style="display: none;">
      <div class="section-header">Personal Information</div>

      <div class="form-group-inline">
        <div>
          <label for="firstName">First Name</label>
          <input type="text" id="firstName" name="firstName">
        </div>
        <div>
          <label for="lastName">Last Name</label>
          <input type="text" id="lastName" name="lastName">
        </div>
      </div>

      <div>
        <label for="email">Email Address</label>
        <input type="text" id="email" name="email">
      </div>
      <div>
        <label for="phone">Phone Number</label>
        <input type="text" id="phone" name="phone">
      </div>

      <div>
        <label for="city">City You Live In</label>
        <input type="text" id="city" name="city">
      </div>
      <div class="form-group-inline">
          <div>
              <label for="state">State</label>
              <select id="state" name="state">
                <option value="" disabled selected>Select State</option>
                <option value="AL">AL</option>
                <option value="AK">AK</option>
                <option value="AZ">AZ</option>
                <option value="AR">AR</option>
                <option value="CA">CA</option>
                <option value="CO">CO</option>
                <option value="CT">CT</option>
                <option value="DE">DE</option>
                <option value="FL">FL</option>
                <option value="GA">GA</option>
                <option value="HI">HI</option>
                <option value="ID">ID</option>
                <option value="IL">IL</option>
                <option value="IN">IN</option>
                <option value="IA">IA</option>
                <option value="KS">KS</option>
                <option value="KY">KY</option>
                <option value="LA">LA</option>
                <option value="ME">ME</option>
                <option value="MD">MD</option>
                <option value="MA">MA</option>
                <option value="MI">MI</option>
                <option value="MN">MN</option>
                <option value="MS">MS</option>
                <option value="MO">MO</option>
                <option value="MT">MT</option>
                <option value="NE">NE</option>
                <option value="NV">NV</option>
                <option value="NH">NH</option>
                <option value="NJ">NJ</option>
                <option value="NM">NM</option>
                <option value="NY">NY</option>
                <option value="NC">NC</option>
                <option value="ND">ND</option>
                <option value="OH">OH</option>
                <option value="OK">OK</option>
                <option value="OR">OR</option>
                <option value="PA">PA</option>
                <option value="RI">RI</option>
                <option value="SC">SC</option>
                <option value="SD">SD</option>
                <option value="TN">TN</option>
                <option value="TX">TX</option>
                <option value="UT">UT</option>
                <option value="VT">VT</option>
                <option value="VA">VA</option>
                <option value="WA">WA</option>
                <option value="WV">WV</option>
                <option value="WI">WI</option>
                <option value="WY">WY</option>
              </select>
            </div>
        <div>
          <label for="zip">Zip Code</label>
          <input type="text" id="zip" name="zip">
        </div>
    </div>
    </div>

    <!-- Event Information Section -->
    <div class="section-header">Event Information</div>

    <div>
        <label for="organization">Organization</label>
        <input type="text" id="organization" name="organization" required>
      </div>
    <div>
      <label for="street">Street Address</label>
      <input type="text" id="street" name="street" required>
    </div>
    <div>
      <label for="eventCity">City</label>
      <input type="text" id="eventCity" name="eventCity" required>
    </div>
    <div class="form-group-inline">
        <div>
            <label for="eventState">State</label>
            <select id="eventState" name="eventState" required>
              <option value="" disabled selected>Select State</option>
              <option value="AL">AL</option>
              <option value="AK">AK</option>
              <option value="AZ">AZ</option>
              <option value="AR">AR</option>
              <option value="CA">CA</option>
              <option value="CO">CO</option>
              <option value="CT">CT</option>
              <option value="DE">DE</option>
              <option value="FL">FL</option>
              <option value="GA">GA</option>
              <option value="HI">HI</option>
              <option value="ID">ID</option>
              <option value="IL">IL</option>
              <option value="IN">IN</option>
              <option value="IA">IA</option>
              <option value="KS">KS</option>
              <option value="KY">KY</option>
              <option value="LA">LA</option>
              <option value="ME">ME</option>
              <option value="MD">MD</option>
              <option value="MA">MA</option>
              <option value="MI">MI</option>
              <option value="MN">MN</option>
              <option value="MS">MS</option>
              <option value="MO">MO</option>
              <option value="MT">MT</option>
              <option value="NE">NE</option>
              <option value="NV">NV</option>
              <option value="NH">NH</option>
              <option value="NJ">NJ</option>
              <option value="NM">NM</option>
              <option value="NY">NY</option>
              <option value="NC">NC</option>
              <option value="ND">ND</option>
              <option value="OH">OH</option>
              <option value="OK">OK</option>
              <option value="OR">OR</option>
              <option value="PA">PA</option>
              <option value="RI">RI</option>
              <option value="SC">SC</option>
              <option value="SD">SD</option>
              <option value="TN">TN</option>
              <option value="TX">TX</option>
              <option value="UT">UT</option>
              <option value="VT">VT</option>
              <option value="VA">VA</option>
              <option value="WA">WA</option>
              <option value="WV">WV</option>
              <option value="WI">WI</option>
              <option value="WY">WY</option>
            </select>
          </div>
      <div>
        <label for="eventZip">Zip Code</label>
        <input type="text" id="eventZip" name="eventZip" required>
      </div>
    </div>
    <div>
        <label for="locationSize">Location Size</label>
        <select id="locationSize" name="locationSize" required>
          <option value="" disabled selected>Select Size</option> <!-- Default option -->
          <% locationSizes.forEach(size => { %>
            <option value="<%= size.loc_size %>"><%= size.size_description %></option>
          <% }) %>
        </select>
    </div>
    <div>
      <label for="eventDate">Event Date</label>
      <input type="date" id="eventDate" name="eventDate" required>
    </div>

    <!-- Start Time and Duration Section -->
    <div>
      <label for="startTime">Start Time</label>
      <input type="time" id="startTime" name="startTime" required>
    </div>

    <!-- Duration Section below Start Time -->
    <div>
      <label for="eventDuration">Duration (hours)</label>
      <input type="number" id="eventDuration" name="eventDuration" step="0.01" required>
    </div>

    
    <!-- Number of Attendees Section -->
    <div class="section-header">Number of Attendees</div>
    <div class="form-group-vertical">
      <div>
        <label for="numAdults">Number of Adults</label>
        <input type="number" id="numAdults" name="numAdults" required>
      </div>
      <div>
        <label for="numYouth">Number of Youth (ages 11-17)</label>
        <input type="number" id="numYouth" name="numYouth" required>
      </div>
      <div>
        <label for="numChildren">Number of Children (ages 10 and under)</label>
        <input type="number" id="numChildren" name="numChildren" required>
      </div>
    </div>

    <div>
      <label>Type of Event</label>
      <div class="radio-group">
        <label>
          <input type="radio" id="sewing" name="eventType" value="1">
          Sewing
        </label>
        <label>
          <input type="radio" id="nonSewing" name="eventType" value="2">
          Non-Sewing
        </label>
        <label>
          <input type="radio" id="both" name="eventType" value="3">
          Both
        </label>
      </div>
    </div>
            

    <div id="numMachinesSection">
      <label for="numMachines">It is extremely helpful if members of your organization bring sewing machines they can use. How many sewing machines can your organization provide? (there must be a person who can operate each machine that is brought)</label>
      <input type="number" id="numMachines" name="numMachines">
    </div>
    <div>
        <label for="shareStory">Would you like Jen to share her story at your event?</label>
        <div class="checkbox-group">
          <input type="checkbox" id="shareStory" name="shareStory" value="true">
          <label for="shareStory">Yes</label>
        </div>
      </div>      
    <div id="storyDurationSection" style="display: none;">
      <label for="storyDuration">Jen's story can range anywhere from 5 to 45 minutes. Enter how long you would like the story to be in minutes?</label>
      <input type="number" id="storyDuration" name="storyDuration">
    </div>
    <div>
        <label for="tableShape">Table Shape (rectangle preferred)</label>
        <select id="tableShape" name="tableShape" required>
          <option value="" disabled selected>Select Shape</option> <!-- Default option -->
          <% tableShapes.forEach(shape => { %>
            <option value="<%= shape.table_shape %>"><%= shape.shape_description %></option>
          <% }) %>
        </select>
      </div>
      <div>
        <label for="numTables">Number of Tables You Can Provide (you must provide your own tables)</label>
        <input type="number" id="numTables" name="numTables">
      </div>
      
    <div>
      <label for="additionalNotes">Additional Notes</label>
      <textarea id="additionalNotes" name="additionalNotes" rows="4"></textarea>
    </div>

    <button type="submit">Submit</button>
  </form>

  <script>
    // Initially hide the sections
    document.getElementById('emailSection').style.display = 'none';
    document.getElementById('personalInfoSection').style.display = 'none';
  
    // Show email section when 'Yes' button is clicked
    document.getElementById('yesRadio').addEventListener('click', function() {
      document.getElementById('emailSection').style.display = 'block';
      document.getElementById('personalInfoSection').style.display = 'none';
    });
  
    // Show personal info section when 'No' button is clicked
    document.getElementById('noRadio').addEventListener('click', function() {
      document.getElementById('emailSection').style.display = 'none';
      document.getElementById('personalInfoSection').style.display = 'block';
    });
  </script>

<script>
  // Initially hide the "Number of Machines" section
  document.getElementById('numMachinesSection').style.display = 'none';

  // Event listener for changing event type
  document.querySelectorAll('input[name="eventType"]').forEach(function(input) {
    input.addEventListener('change', function() {
      var eventType = document.querySelector('input[name="eventType"]:checked').value;
      var numMachinesSection = document.getElementById('numMachinesSection');
      var numMachinesInput = document.getElementById('numMachines');

      // Show and enable numMachines input if "Sewing" or "Both" is selected
      if (eventType === '1' || eventType === '3') {
        numMachinesSection.style.display = 'block';
        numMachinesInput.disabled = false;
      } else {
        numMachinesSection.style.display = 'none';
        numMachinesInput.disabled = true;
      }
    });
  });
</script>

<script>
  // Initially hide the "Story Duration" section
  document.getElementById('storyDurationSection').style.display = 'none';

  // Event listener for checkbox change
  document.getElementById('shareStory').addEventListener('change', function() {
    var storyDurationSection = document.getElementById('storyDurationSection');
    var storyDurationInput = document.getElementById('storyDuration');

    // Show and enable story duration input if checkbox is checked
    if (this.checked) {
      storyDurationSection.style.display = 'block';
      storyDurationInput.disabled = false;
    } else {
      storyDurationSection.style.display = 'none';
      storyDurationInput.disabled = true;
    }
  });
</script>

  <script>
    // Check for 'success' query parameter in the URL
    const urlParams = new URLSearchParams(window.location.search);
    if (urlParams.get('success') === 'true') {
      alert('Thank you for scheduling an event with the Turtle Shelter Project! You will be contacted by a member of our team soon with further details.');
      // Remove the query parameter from the URL to avoid repeated pop-ups
      const newUrl = window.location.origin + window.location.pathname;
      window.history.replaceState({}, document.title, newUrl);
    }
  </script>
  
</body>
</html>
