<br>
<!-- Button to trigger modal -->
<a class="waves-effect waves-light btn modal-trigger" href="#modal1">Edit Volunteer</a>
<br><br>
<div class="search-container">
  <div class="search-container">
    <input 
      type="text" 
      class="search-input" 
      id="searchBox" 
      placeholder="Search" 
      oninput="liveSearch(this.value)">
  </div>
  
  <div id="searchResults"></div>
    
</div>
<script>
  async function liveSearch(query) {
    if (!query) {
      document.getElementById('searchResults').innerHTML = '';
      return;
    }
    const response = await fetch(`/search?query=${query}`);
    const results = await response.json(); // Expect JSON response
    displayResults(results);
  }

    async function liveSearch(query) {
      if (!query) {
        document.getElementById('searchResults').innerHTML = '';
        return;
      }

      try {
        const response = await fetch(`/search?query=${query}`);
        const results = await response.json(); // Expect JSON response
        displayResults(results);
      } catch (error) {
        console.error("Error fetching search results:", error);
      }
    }

    function displayResults(results) {
      const resultsContainer = document.getElementById('searchResults');
      if (results.length > 0) {
        const rows = results.map(user => `
          <tr>
            <td>${user.first_name} ${user.last_name}</td>
            <td>${user.email}</td>
          </tr>
        `).join('');
        resultsContainer.innerHTML = `<table>
          <thead>
            <tr>
              <th>Name</th>
              <th>Email</th>
            </tr>
          </thead>
          <tbody>${rows}</tbody>
        </table>`;
      } else {
        resultsContainer.innerHTML = '<p>No matching users found.</p>';
      }
    }
</script>

<!-- views/admin_Views/volunteers.ejs modal -->
<%- include('../components/modal', {
  title: 'Edit Volunteer',
  formAction: '/update-volunteer',  // This would be the action for the form submission
  body: `
    <div class="input-field">
      <input id="volunteer-name" type="text" name="volunteerName" required>
      <label for="volunteer-name">Volunteer Name</label>
    </div>
    <div class="input-field">
      <input id="volunteer-email" type="email" name="volunteerEmail" required>
      <label for="volunteer-email">Email</label>
    </div>
    <div class="input-field">
      <input id="volunteer-phone" type="tel" name="volunteerPhone" required>
      <label for="volunteer-phone">Phone Number</label>
    </div>
    <div class="input-field">
      <input id="volunteer-address" type="text" name="volunteerAddress" required>
      <label for="volunteer-address">Address</label>
    </div>
    <div class="input-field">
      <input id="volunteer-position" type="text" name="volunteerPosition" required>
      <label for="volunteer-position">Position</label>
    </div>
  `
}) %>
